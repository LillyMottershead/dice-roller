<!DOCTYPE html>
<title>QuickRoll</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
<html>
    <body class='c-container'>
        <h1>Quick Roll</h1>
        <form method="post">
            <input class='input input-text' type="text" name="command" id="command" autofocus>
            <input class='input input-text' type="text" name="times" id="times" style="width:30px;" title="number of times to execute command">
            <input class='input' type="submit" name="go" value=">">
        </form>
        <section class='h-container'>
            {% for call in session['last'] %}
                <section class='h-container flex-child' style='border:none; margin:10px; max-width:30%'>
                        {% for roll in call %}
                            {% if roll['is_roll'] %}
                                <div class='flex-child tooltip' style='margin:-1px; margin-bottom:0px;'>
                                    {% for image in roll['images'] %}
                                        <img src={{ image }} height=60px>
                                    {% endfor %}
                                    <p>{{ roll['total'] }} <span style='font-size: .75em'>{{ roll['label'] }}</span></p>
                                    <span class='tooltiptext'>{{ roll['str'] }}</span>
                                </div>
                            {% endif %} 
                        {% endfor %}
                </section>
            {% endfor %}
        </section>
            <section class='h-container'>
                <div class='flex-child aliases'>
                    <form method=post enctype=multipart/form-data style="padding:5px;">
                        <label class=h2>Aliases</label>
                        <input class=input-file type=file name=import_file id=import_file>
                        <label class=input for=import_file>Import</label>
                    </form>
                    <div>
                        {% for alias in session['aliases'] %}
                            <p>{{alias}}</p>
                        {% endfor %}
                    </div>
                </div>
                <div class='flex-child log'>
                    <form method="post">
                        <label class=h2>Log</label>
                        <input class=input type="submit" name="clear" value="Clear">
                    </form>
                    <div class='inner-log'>
                        {% for roll in session['log'] %}
                            <p>{{ roll }}</p>
                        {% endfor %}
                    </div>
                </div>
            </section>
        </section>
    </body>
</html>